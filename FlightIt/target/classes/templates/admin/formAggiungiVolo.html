<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aggiungi Volo</title>
</head>
<body>
<header>
    <span th:if="${authUser}" th:text="${authUser.username}"></span>
    <span th:if="${userDetails}" th:text="${userDetails.username}"></span>
    <a th:if="${authUser != null || userDetails != null}" href="/logout">Logout</a>
</header>
<!-- Pagina con form di inserimento dei dati del volo, in cui saranno per forza inseriti tutti.
Sotto le form sarÃ  presente un bottone per confermare l'inserimento o per annullarlo-->
<form th:action="@{/admin/nuovoVolo}" method="post" th:object="${volo}">
    <div th:if="${#fields.hasGlobalErrors()}">
        <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p>
    </div>
    <div>
        <label> Aereoporto di partenza </label>
        <span>
            <input type="text" required="required" name="aereoportoP" list="imbarchi"/>
            <datalist id="imbarchi">
                <ul>
                    <li th:each="aereoporto : ${aereoporti}">
                        <option th:value="${aereoporto.nome}">
                    </li>
                </ul>
            </datalist>
        </span>
        <span th:if="${#fields.hasErrors('aereoportoP')}" th:errors="*{aereoportoP}"></span>
    </div>
    <div>
        <label> Aereoporto di arrivo </label>
        <span>
            <input type="text" required="required" name="aereoportoA" list="sbarchi"/>
             <datalist id="sbarchi">
                <ul>
                    <li th:each="aereoporto : ${aereoporti}">
                        <option th:value="${aereoporto.nome}">
                    </li>
                </ul>
            </datalist>
        </span>
        <span th:if="${#fields.hasErrors('aereoportoA')}" th:errors="*{aereoportoA}"></span>
    </div>
    <div>
        <label> Data partenza </label>
        <span>
            <input type="date" name="dataP" required="required"/>
        </span>
        <span th:if="${#fields.hasErrors('dataP')}" th:errors="*{dataP}"></span>
    </div>
    <div>
        <label> Orario imbarco </label>
        <span>
            <input type="time" name="oraP" required="required"/>
        </span>
        <span th:if="${#fields.hasErrors('oraP')}" th:errors="*{oraP}"></span>
    </div>
    <div>
        <label> Orario sbarco </label>
        <span>
            <input type="time" name="oraA" required="required"/>
        </span>
        <span th:if="${#fields.hasErrors('oraA')}" th:errors="*{oraA}"></span>
    </div>

    <button type="submit">Registra volo</button>
    <button type="reset">Annulla registrazione</button>
</form>

</body>
</html>